#
# Copyright (c) 2022 Robert Bosch Manufacturing Solutions GmbH, Germany. All rights reserved.
#

@prefix : <urn:samm:com.bosch.bci.digitalcv.instance:0.1.0#>.
@prefix type: <urn:samm:com.bosch.bci.digitalcv.type:0.1.0#>.
@prefix samm: <urn:samm:org.eclipse.esmf.samm:meta-model:2.0.0#> .
@prefix samm-c: <urn:samm:org.eclipse.esmf.samm:characteristic:2.0.0#> .
@prefix samm-e: <urn:samm:org.eclipse.esmf.samm:entity:2.0.0#> .
@prefix unit: <urn:samm:org.eclipse.esmf.samm:unit:2.0.0#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

:Batches a samm:Aspect ;
    samm:preferredName "Batches"@en ;
    samm:preferredName "Batches"@de ;
    samm:description "Aspect for batches of a certain product type."@en ;
    samm:description "Aspekt welcher die Chargen eines gewissen Produkttyps liefert"@de ;
    samm:properties ( :items ) ;
    samm:operations ( ) .

:items a samm:Property ;
    samm:preferredName "Batches"@en ;
    samm:preferredName "Chargen"@de ;
    samm:description "A list of batches sorted in chronological order."@en ;
    samm:description "Eine Liste mit chronologisch sortierten Chargen."@de ;
    samm:characteristic [
        a samm-c:SortedSet ;
        samm:dataType :Batch
    ] .

:Batch a samm:Entity ;
    samm:preferredName "Batch"@en ;
    samm:preferredName "Charge"@de ;
    samm:description "Definition of a batch based on a MES batch number."@en ;
    samm:properties ( :batchNumber
                      [ samm:property :batchDescription; samm:optional true ]
                      [ samm:property :startTime; samm:optional true ]
                      [ samm:property :endTime; samm:optional true ]
#                     [ samm:property :batchOrigin; samm:optional true ]
                      [ samm:property :quantity; samm:optional true ]
                      type:materialNumber
                      type:materialDescription
                      :isProductBatch ) .


:startTime a samm:Property ;
    samm:preferredName "Start Time"@en ;
    samm:description "Date and time, when the batch was started"@en ;
    samm:characteristic samm-c:Timestamp .

:endTime a samm:Property ;
    samm:preferredName "End Time"@en ;
    samm:description "Date and time, when the last part of the batch was produced"@en ;
    samm:characteristic samm-c:Timestamp .

:batchOrigin a samm:Property ;
    samm:preferredName "Batch Origin"@en ;
    samm:description "Who has defined the identifier of the batch own company or supplier"@en ;
    samm:characteristic :BatchOrigin .

:BatchOrigin a samm-c:Enumeration ;
    samm:preferredName "Batch Origin"@en ;
    samm:description "Origin of a batch"@en ;
    samm:dataType :OriginEntity ;
    samm-c:values ( :OwnOrigin :SupplierOrigin ) .

:OriginEntity a samm:Entity ;
    samm:preferredName "Origin Entity"@en ;
    samm:description "Entity that describes a batch origin."@en ;
    samm:properties ( :batchOriginAttributeValue
                      [ samm:property     :batchOriginAttributeDescription ;
                      samm:notInPayload "true"^^xsd:boolean ] ) .

:batchOriginAttributeValue a samm:Property ;
    samm:preferredName "Batch Origin Attribute Value"@en ;
    samm:description "The value representing a specific origin of a batch."@en ;
    samm:characteristic [
        a samm-c:Code ;
        samm:dataType xsd:string
    ] .

:batchOriginAttributeDescription a samm:Property ;
    samm:preferredName "Batch Origin Attribute Description"@en ;
    samm:description "The description for a specific origin of a batch."@en ;
    samm:characteristic samm-c:MultiLanguageText .

:OwnOrigin a :OriginEntity ;
    :batchOriginAttributeValue "own"^^xsd:string ;
    :batchOriginAttributeDescription "Batch defined by company itself" .

:SupplierOrigin a :OriginEntity ;
    :batchOriginAttributeValue "supplier"^^xsd:string ;
    :batchOriginAttributeDescription "Batch defined by supplier"@en .

:quantity a samm:Property ;
    samm:preferredName "Quantity"@en ;
    samm:description "Quantity of instances in batch"@en ;
    samm:characteristic :Quantity .

:Quantity a samm-c:Quantifiable ;
    samm:dataType xsd:float ;
    samm-c:unit unit:piece .

:isProductBatch a samm:Property ;
    samm:preferredName "isProductBatch"@en ;
    samm:description "Indicates whether the batch produced product instances or parts."@en ;
    samm:characteristic samm-c:Boolean .
