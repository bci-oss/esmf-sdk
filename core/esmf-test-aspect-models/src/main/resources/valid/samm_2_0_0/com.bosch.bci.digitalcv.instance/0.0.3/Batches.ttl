    #
# Aspect model for product
# format turtle https://www.w3.org/TeamSubmission/turtle
#
@prefix :       <urn:bamm:com.bosch.bci.digitalcv.instance:0.0.3#>.
@prefix type:   <urn:bamm:com.bosch.bci.digitalcv.type:0.0.3#>.
@prefix bamm:   <urn:bamm:io.openmanufacturing:meta-model:1.0.0#> .
@prefix bamm-c: <urn:bamm:io.openmanufacturing:characteristic:1.0.0#> .
@prefix bamm-e: <urn:bamm:io.openmanufacturing:entity:1.0.0#> .
@prefix unit:   <urn:bamm:io.openmanufacturing:unit:1.0.0#> .
@prefix xsd:    <http://www.w3.org/2001/XMLSchema#> .

:Batches
    a                  bamm:Aspect ;
    bamm:name          "Batches" ;
    bamm:preferredName "Batches"@en ;
    bamm:preferredName "Batches"@de ;
    bamm:description   "Aspect for batches of a certain product type."@en ;
    bamm:description   "Aspekt welcher die Chargen eines gewissen Produkttyps liefert"@de ;
    bamm:properties    ( :items ) ;
    bamm:operations    ( ) .

:items
    a                   bamm:Property ;
    bamm:name           "items" ;
    bamm:preferredName  "Batches"@en ;
    bamm:preferredName  "Chargen"@de ;
    bamm:description    "A list of batches sorted in chronological order."@en ;
    bamm:description    "Eine Liste mit chronologisch sortierten Chargen."@de ;
    bamm:characteristic [ a             bamm-c:SortedSet ;
                          bamm:name     "Batches" ;
                          bamm:dataType :Batch ] .

:Batch
    a                  bamm:Entity ;
    bamm:name          "Batch" ;
    bamm:preferredName "Batch"@en ;
    bamm:preferredName "Charge"@de ;
    bamm:description   "Definition of a batch based on a MES batch number."@en ;
    bamm:properties    (
                           :batchNumber
                         [ bamm:property :parentProcessedPartRef; bamm:optional true ]
#                         [ bamm:property :batchDescription; bamm:optional true ]
                         [ bamm:property :startTime; bamm:optional true ]
                         [ bamm:property :endTime; bamm:optional true ]
#                         [ bamm:property :batchOrigin; bamm:optional true ]
                         [ bamm:property :quantity; bamm:optional true ]
                         type:materialNumber
                         type:materialDescription
                       ) .


:startTime
    a                   bamm:Property ;
    bamm:name           "startTime" ;
    bamm:preferredName  "Start Time"@en ;
    bamm:description    "Date and time, when the batch was started"@en ;
    bamm:characteristic bamm-c:Timestamp .

:endTime
    a                   bamm:Property ;
    bamm:name           "endTime" ;
    bamm:preferredName  "End Time"@en ;
    bamm:description    "Date and time, when the last part of the batch was produced"@en ;
    bamm:characteristic bamm-c:Timestamp .

:batchOrigin
    a                   bamm:Property ;
    bamm:name           "batchOrigin" ;
    bamm:preferredName  "Batch Origin"@en ;
    bamm:description    "Who has defined the identifier of the batch own company or supplier"@en ;
    bamm:characteristic :BatchOrigin .

:BatchOrigin
    a                  bamm-c:Enumeration ;
    bamm:name          "BatchOrigin" ;
    bamm:preferredName "Batch Origin"@en ;
    bamm:description   "Origin of a batch"@en ;
    bamm:dataType      :OriginEntity ;
    bamm-c:values      ( :OwnOrigin
                         :SupplierOrigin ) .

:OriginEntity
    a                  bamm:Entity ;
    bamm:name          "OriginEntity" ;
    bamm:preferredName "Origin Entity"@en ;
    bamm:description   "Entity that describes a batch origin."@en ;
    bamm:properties    ( :batchOriginAttributeValue
                         [ bamm:property     :batchOriginAttributeDescription ;
                           bamm:notInPayload "true"^^xsd:boolean ] ) .

:batchOriginAttributeValue
    a                   bamm:Property ;
    bamm:name           "batchOriginAttributeValue" ;
    bamm:preferredName  "Batch Origin Attribute Value"@en ;
    bamm:description    "The value representing a specific origin of a batch."@en ;
    bamm:characteristic [ a             bamm-c:Code ;
                          bamm:name     "OriginAttributeCode" ;
                          bamm:dataType xsd:string ] .

:batchOriginAttributeDescription
    a                   bamm:Property ;
    bamm:name           "batchOriginAttributeDescription" ;
    bamm:preferredName  "Batch Origin Attribute Description"@en ;
    bamm:description    "The description for a specific origin of a batch."@en ;
    bamm:characteristic bamm-c:MultiLanguageText .

:OwnOrigin
    a                                :OriginEntity ;
    :batchOriginAttributeValue       "own"^^xsd:string ;
    :batchOriginAttributeDescription "Batch defined by company itself" .

:SupplierOrigin
    a                                :OriginEntity ;
    :batchOriginAttributeValue       "supplier"^^xsd:string ;
    :batchOriginAttributeDescription "Batch defined by supplier"@en .

:quantity
    a                   bamm:Property ;
    bamm:name           "quantity" ;
    bamm:preferredName  "Quantity"@en ;
    bamm:description    "Quantity of instances in batch"@en ;
    bamm:characteristic :Quantity .

:Quantity
    a             bamm-c:Quantifiable ;
    bamm:name     "Quantity" ;
    bamm:dataType xsd:float ;
    bamm-c:unit   unit:piece .
